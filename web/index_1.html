<!DOCTYPE html>
<html>
    <head>
        <title>Index</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" media="screen and (min-width: 961px)" href="css/d.css">
        <link rel="stylesheet" media="screen and (max-width: 960px)" href="css/m.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
        <script>
            function nif() {
                var dni = $("#dni").val();
                var numero
                var letr
                var letra
                var expresion_regular_dni

                expresion_regular_dni = /^\d{8}[a-zA-Z]$/;

                if (expresion_regular_dni.test(dni) == true) {
                    numero = dni.substr(0, dni.length - 1);
                    letr = dni.substr(dni.length - 1, 1);
                    numero = numero % 23;
                    letra = 'TRWAGMYFPDXBNJZSQVHLCKET';
                    letra = letra.substring(numero, numero + 1);
                    if (letra != letr.toUpperCase()) {
                        alert('Dni erroneo, la letra del NIF no se corresponde');
                    } else {
                        alert('Dni correcto');
                        location.href = "prueba1.html";
                    }
                } else {
                    alert('Dni erroneo, formato no válido');
                }
            }</script>
    </head>
    <body>
        <div id="1">
            <img src="img/logo_2.gif" alt="Universidad Tecnlogica logo">
            <h1>Universidad Tecnológica</h1>
            <h2>Escuela de UT</h2>
        </div>
        <div id="tot">
            <div id="texto1">
                <p>Prueba de accceso a UT.</p>
                <p>Tienes <b>3 minutos </b>para relizar la prueba, en caso de agotar el tiempo el examen acabará automáticamente y se hará la corrección.</p>
                <p>Las respuestas incorrectas no penalizan, excepto las de <u>selección múltiple</u> que los <b>errores restan 1p.</b></p>
                <form name="elDni">
                    DNI <input id="dni" type="text" name="dni" placeholder="12345678Z">
                </form>
                <a onClick="return nif();"><b>Empezar</b></a>
            </div>
        </div>
    </body>
</html>
